import{c as y,u as N,d as w,r as o,j as e,a as c,v,B as b,e as k,g as C}from"./index-BKjOfV5l.js";import{u as I}from"./index.esm-B6HbNfYb.js";import{I as x}from"./Input-CQCfPgps.js";import{C as S,a as P,b as A,d as E,c as F}from"./Card-BjV_5Hz9.js";import{A as L,a as R}from"./Alert-Tl0dtwbA.js";import{E as U}from"./eye-off-4eAEubg_.js";import{E as _}from"./eye-CXemIeRw.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],q=y("log-in",T);function B(){const{t:s}=N(),h=w(),[a,g]=o.useState(!1),[m,n]=o.useState(""),[i,d]=o.useState(!1),{register:u,handleSubmit:p,formState:{errors:t}}=I(),j=async l=>{d(!0),n("");try{const r=await k.login({username:l.username,password:l.password,turnstile_token:l.turnstile_token});if(r.success){const f=C();h(f)}else n(r.message||s("auth.loginFailed"))}catch(r){n(r.message||s("auth.loginFailed"))}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-green-100",children:e.jsx(q,{className:"h-6 w-6 text-green-600"})}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:s("auth.signInToAccount")}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[s("auth.orSignUpPrompt")," ",e.jsx(c,{to:"/auth/register",className:"font-medium text-green-600 hover:text-green-500",children:s("auth.signUp")})]})]}),e.jsxs(S,{children:[e.jsxs(P,{children:[e.jsx(A,{children:s("auth.signIn")}),e.jsx(E,{children:s("auth.enterCredentials")})]}),e.jsx(F,{children:e.jsxs("form",{onSubmit:p(j),className:"space-y-6",children:[m&&e.jsx(L,{variant:"destructive",children:e.jsx(R,{children:m})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:s("auth.username")}),e.jsxs("div",{className:"mt-1",children:[e.jsx(x,{id:"username",type:"text",autoComplete:"username",placeholder:s("auth.usernamePlaceholder"),error:t.username,...u("username",v.username)}),t.username&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.username.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:s("auth.password")}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx(x,{id:"password",type:a?"text":"password",autoComplete:"current-password",placeholder:s("auth.passwordPlaceholder"),error:t.password,...u("password",{required:s("auth.passwordRequired")})}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!a),children:a?e.jsx(U,{className:"h-4 w-4 text-gray-400"}):e.jsx(_,{className:"h-4 w-4 text-gray-400"})}),t.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.password.message})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:s("auth.rememberMe")})]}),e.jsx("div",{className:"text-sm",children:e.jsx(c,{to:"/auth/forgot-password",className:"font-medium text-green-600 hover:text-green-500",children:s("auth.forgotPassword")})})]}),e.jsx("div",{id:"turnstile-container",className:"flex justify-center"}),e.jsx("div",{children:e.jsx(b,{type:"submit",className:"w-full",loading:i,disabled:i,children:s(i?"auth.signingIn":"auth.signIn")})})]})})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[s("auth.noAccount")," ",e.jsx(c,{to:"/auth/register",className:"font-medium text-green-600 hover:text-green-500",children:s("auth.createAccount")})]})})]})})}function K(){return e.jsx(B,{})}export{K as default};

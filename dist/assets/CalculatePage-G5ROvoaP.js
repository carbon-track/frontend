import{c as W,u as J,r as n,j as e,B as H,y as Y,I as K,b as T,S as ne,p as G,C as ee,z as ce,X as le}from"./index-9oiziVwF.js";import{C as M,a as P,b as U,d as R,c as q}from"./Card-DiZzX4G1.js";import{F as oe}from"./funnel-Ddr942iJ.js";import{u as de}from"./index.esm-CHdFkG8q.js";import{b as me}from"./r2Upload-DLUugcg9.js";import{A as re,a as ie}from"./Alert-DMTWhZOi.js";import{U as xe}from"./upload-DItaAgtm.js";import{I as ue}from"./image-DOHZLiRJ.js";import{C as se}from"./circle-check-big-2jXPKRvC.js";import{A as he}from"./arrow-left-C1InB7Bc.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fe=W("calendar",ge);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],te=W("car",pe);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ve=W("file-text",je);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],ae=W("recycle",be),Ne={daily:T,transport:te,consumption:ne,environmental:ae,lifestyle:T,energy:T,water:T,waste:ae,travel:te};function ye({onActivitySelect:t,selectedActivity:m}){const{t:o,currentLanguage:p}=J(),[w,a]=n.useState([]),[g,z]=n.useState([]),[k,S]=n.useState([]),[j,C]=n.useState("all"),[N,$]=n.useState(""),[f,A]=n.useState(!0),[F,D]=n.useState("");n.useEffect(()=>{(async()=>{var r,v,u;try{A(!0);const c=await G.getActivities();if((r=c==null?void 0:c.data)!=null&&r.success){const b=(v=c==null?void 0:c.data)==null?void 0:v.data,O=(Array.isArray(b==null?void 0:b.activities)?b.activities:Array.isArray(b)?b:[]).filter(h=>!(!h||h.deleted_at||Object.prototype.hasOwnProperty.call(h,"is_active")&&h.is_active===!1)).map(h=>({...h,carbon_factor:Number(h.carbon_factor??h.factor??0),sort_order:Number(h.sort_order??0)})).sort((h,B)=>{const i=(h.sort_order??0)-(B.sort_order??0);return i!==0?i:(h.name_zh||"").localeCompare(B.name_zh||"")});a(O),z(O);const Z=Array.isArray(b==null?void 0:b.categories)?b.categories:[...new Set(O.map(h=>h.category).filter(Boolean))];S(Z)}else D(((u=c==null?void 0:c.data)==null?void 0:u.message)||o("errors.loadFailed"))}catch(c){D(c.message||o("errors.network"))}finally{A(!1)}})()},[o]),n.useEffect(()=>{let s=w;if(j!=="all"&&(s=s.filter(r=>r.category===j)),N){const r=(N||"").toString().toLowerCase(),v=u=>(u??"").toString().toLowerCase();s=s.filter(u=>v(u.name_zh).includes(r)||v(u.name_en).includes(r)||v(u.description_zh).includes(r)||v(u.description_en).includes(r))}z(s)},[w,j,N]);const L=s=>{t(s)},I=s=>o(`activities.categories.${s}`)||s,E=s=>(p||"").toLowerCase().startsWith("en")?s.name_en||s.name_zh||s.name:s.name_zh||s.name_en||s.name,l=s=>(p||"").toLowerCase().startsWith("en")?s.description_en||s.description_zh||s.description:s.description_zh||s.description_en||s.description;return f?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:o("common.loading")})]}):F?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:F}),e.jsx(H,{onClick:()=>window.location.reload(),children:o("common.retry")})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(K,{type:"text",placeholder:o("activities.searchPlaceholder"),value:N,onChange:s=>$(s.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:j,onChange:s=>C(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"all",children:o("activities.categories.all")}),k.map(s=>e.jsx("option",{value:s,children:I(s)},s))]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(s=>{const r=Ne[s.category]||T,v=(m==null?void 0:m.id)||(m==null?void 0:m.uuid),u=s.id||s.uuid,c=v&&u&&v===u;return e.jsxs(M,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${c?"ring-2 ring-green-500 bg-green-50":"hover:bg-gray-50"}`,onClick:()=>L(s),children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${c?"bg-green-200":"bg-gray-100"}`,children:e.jsx(r,{className:`h-5 w-5 ${c?"text-green-700":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(U,{className:"text-sm font-medium",children:E(s)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:I(s.category)})]})]})}),e.jsxs(R,{className:"pt-0",children:[e.jsx(q,{className:"text-sm text-gray-600 mb-3",children:l(s)}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"text-gray-500",children:[o("activities.unit"),": ",o(`units.${s.unit}`,s.unit)]}),e.jsxs("div",{className:"text-green-600 font-medium",children:[s.carbon_factor," ",o("activities.carbonFactor")]})]}),s.points_per_unit&&e.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:[s.points_per_unit," ",o("activities.pointsPerUnit")]})]})]},u)})}),g.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-2",children:e.jsx(Y,{className:"h-12 w-12 mx-auto"})}),e.jsx("p",{className:"text-gray-600",children:o("activities.noActivitiesFound")}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o("activities.tryDifferentSearch")})]})]})}function _e({activity:t,onCalculate:m,onSubmit:o,calculationResult:p,isSubmitting:w}){const{t:a}=J(),[g,z]=n.useState([]),[k,S]=n.useState(""),[j,C]=n.useState(!1),[N,$]=n.useState([]),[f,A]=n.useState([]),[F,D]=n.useState({done:0,total:0}),[L,I]=n.useState(!1),{register:E,handleSubmit:l,watch:s,formState:{errors:r}}=de({defaultValues:{activity_date:new Date().toISOString().split("T")[0],description:""}}),v=s("data"),u=n.useRef(""),c=n.useRef(null);n.useEffect(()=>{const i=(t==null?void 0:t.id)||(t==null?void 0:t.uuid)||"",d=v;c.current&&(clearTimeout(c.current),c.current=null);const y=parseFloat(d);if(!i||!d||isNaN(y)||y<=0){I(!1);return}return c.current=setTimeout(()=>{const x=`${i}::${y}`;if(u.current===x){I(!0);return}u.current=x,m(y),I(!0)},300),()=>{c.current&&(clearTimeout(c.current),c.current=null)}},[t,v,m]);const b=async i=>{if(S(""),!g.length&&!N.length){S(a("activities.form.imageRequired")||"请至少选择一张图片");return}let d=N;if(!N.length&&g.length){try{C(!0);const x=g.length;D({done:0,total:x}),d=(await me(g,{directory:"activities",entityType:"carbon_record"},(_,V)=>{D({done:_,total:V})})).map(_=>({url:_.url,file_path:_.file_path,original_name:_.original_name,mime_type:_.mime_type,size:_.size})),$(d)}catch(x){S(x.message||"上传失败"),C(!1);return}C(!1)}const y={activity_id:t.id||t.uuid,amount:parseFloat(i.data),date:i.activity_date,description:i.description,images:(d||[]).map(x=>({url:x.url,file_path:x.file_path,original_name:x.original_name,mime_type:x.mime_type,size:x.size}))};o(y)},Q=i=>{S("");const d=Array.from(i.target.files||[]),y=5,x=5*1024*1024,X=[],_=[];for(const V of d){if(V.size>x){S(a("activities.form.fileTooLarge")||"文件过大");continue}if(X.push(V),_.push(URL.createObjectURL(V)),X.length>=y)break}z(X),A(_)},O=i=>{z(d=>d.filter((y,x)=>x!==i)),A(d=>d.filter((y,x)=>x!==i))};if(!t)return e.jsx(M,{children:e.jsxs(R,{className:"py-12 text-center",children:[e.jsx(ee,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:a("activities.selectActivityFirst")})]})});const Z=i=>i.name_zh||i.name_en||i.name,h=i=>i.description_zh||i.description_en||i.description,B=L&&p?e.jsxs(M,{className:"bg-green-50 border-green-200 shadow-sm",children:[e.jsxs(P,{className:"pb-3",children:[e.jsx(U,{className:"text-sm font-medium text-green-800",children:a("activities.form.calculationResult")}),e.jsx(q,{className:"text-xs",children:a("activities.form.previewAutoUpdate")||"实时预览"})]}),e.jsx(R,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 border",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[a("activities.carbonSaved")," (kg CO₂)"]}),e.jsx("div",{className:"text-2xl font-bold text-green-600 leading-none",children:(()=>{const i=p.carbon_saved,d=typeof i=="number"?i:Number(i);return Number.isFinite(d)?d.toFixed(2):"0.00"})()})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:a("activities.form.expectedPoints")}),e.jsx("div",{className:"text-2xl font-bold text-blue-600 leading-none",children:p.points_earned??0})]})]})})]}):null;return e.jsxs("div",{className:"space-y-6 md:space-y-0 md:grid md:grid-cols-12 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-8 space-y-6",children:[e.jsxs(M,{children:[e.jsxs(P,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-green-600"}),Z(t)]}),e.jsx(q,{children:h(t)})]}),e.jsx(R,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[a("activities.category"),":"]}),e.jsx("div",{className:"font-medium",children:a(`activities.categories.${t.category}`)})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[a("activities.unit"),":"]}),e.jsx("div",{className:"font-medium",children:a(`units.${t.unit}`,t.unit)})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[a("activities.carbonFactor"),":"]}),e.jsx("div",{className:"font-medium text-green-600",children:t.carbon_factor})]}),t.points_per_unit&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[a("activities.pointsPerUnit"),":"]}),e.jsx("div",{className:"font-medium text-blue-600",children:t.points_per_unit})]})]})})]}),e.jsx("div",{className:"md:hidden",children:B}),e.jsxs(M,{children:[e.jsxs(P,{children:[e.jsx(U,{children:a("activities.form.dataInput")}),e.jsx(q,{children:a("activities.form.inputDescription")})]}),e.jsx(R,{children:e.jsxs("form",{onSubmit:l(b),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a("activities.form.dataValue")," (",a(`units.${t.unit}`,t.unit),")"]}),e.jsx(K,{type:"number",step:"0.01",min:"0",placeholder:a("activities.form.dataPlaceholder"),error:r.data,...E("data",{required:a("activities.form.dataRequired"),min:{value:.01,message:a("activities.form.dataMinimum")}})}),r.data&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.data.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(fe,{className:"inline h-4 w-4 mr-1"}),a("activities.form.activityDate")]}),e.jsx(K,{type:"date",max:new Date().toISOString().split("T")[0],error:r.activity_date,...E("activity_date",{required:a("activities.form.dateRequired")})}),r.activity_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.activity_date.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ve,{className:"inline h-4 w-4 mr-1"}),a("activities.form.notes")]}),e.jsx("textarea",{rows:4,placeholder:a("activities.form.notesPlaceholder"),className:`flex w-full rounded-md border bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${r.description?"border-red-500 focus-visible:ring-red-500":"border-input ring-offset-background"}`,...E("description",{maxLength:{value:500,message:a("validation.maxLength",{max:500})}})}),r.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.description.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(xe,{className:"inline h-4 w-4 mr-1"}),a("activities.form.uploadImage")]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 flex flex-col gap-3",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Q,className:"text-sm"}),g.length>0&&e.jsx("ul",{className:"space-y-2 text-sm",children:g.map((i,d)=>e.jsxs("li",{className:"flex items-center justify-between bg-gray-50 px-2 py-1 rounded border",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f[d]&&e.jsx("img",{src:f[d],alt:i.name,className:"h-10 w-10 object-cover rounded border"}),e.jsxs("span",{className:"truncate flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-gray-500"}),i.name]})]}),e.jsx("button",{type:"button",onClick:()=>O(d),className:"text-gray-400 hover:text-red-500",children:e.jsx(le,{className:"h-4 w-4"})})]},d))}),j&&F.total>0&&e.jsxs("p",{className:"text-xs text-blue-600",children:[a("common.uploading")||"正在上传..."," ",F.done,"/",F.total]}),k&&e.jsx("p",{className:"text-xs text-red-600",children:k}),j&&e.jsx("p",{className:"text-xs text-blue-600",children:a("common.uploading")||"正在上传..."}),!g.length&&!k&&e.jsx("p",{className:"text-xs text-gray-500",children:a("activities.form.uploadHint")})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(H,{type:"submit",className:"flex-1",loading:w||j,disabled:w||j||!L,children:w||j?a("activities.form.submitting")||"提交中...":a("activities.form.submit")}),e.jsx(H,{type:"button",variant:"outline",onClick:()=>window.location.reload(),children:a("common.reset")})]}),e.jsxs(re,{variant:"info",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx(ie,{children:a("activities.form.submitHint")})]})]})})]})]}),e.jsx("div",{className:"hidden md:block md:col-span-4",children:e.jsx("div",{className:"sticky top-20 space-y-4",children:B||e.jsxs(M,{className:"border-dashed",children:[e.jsxs(P,{className:"pb-3",children:[e.jsx(U,{className:"text-sm text-gray-600",children:a("activities.form.calculationResult")}),e.jsx(q,{className:"text-xs",children:a("activities.form.enterDataToPreview")||"输入数值后出现"})]}),e.jsx(R,{className:"text-xs text-gray-400",children:a("activities.form.previewPlaceholder")||"填写数据以查看实时计算"})]})})})]})}function we(){const{t}=J(),[m,o]=n.useState(1),[p,w]=n.useState(null),[a,g]=n.useState(null),[z,k]=n.useState(!1),[S,j]=n.useState(!1),[C,N]=n.useState(null),[$,f]=n.useState(""),A=[{id:1,title:t("activities.form.selectActivity"),description:t("activities.form.selectActivityDesc")},{id:2,title:t("activities.form.dataInput"),description:t("activities.form.dataInputDesc")},{id:3,title:t("activities.form.submit"),description:t("activities.form.submitDesc")}],F=l=>{w(l),g(null),f(""),o(2)},D=n.useCallback(async l=>{if(p){k(!0),f("");try{const s=p.id||p.uuid,r=await G.calculate(s,l);r.data.success?g(r.data.data):f(r.data.message||t("activities.form.calculationFailed"))}catch(s){const r=(s==null?void 0:s.message)||"";if((s==null?void 0:s.code)==="ERR_CANCELED"||/aborted|canceled/i.test(r))return;f(r||t("activities.form.calculationFailed"))}finally{k(!1)}}},[p,t]),L=async l=>{j(!0),f("");try{const s=await G.recordActivity({...l});if(s.data.success){const r=s.data.calculation||{};N({carbon_saved:r.carbon_saved||0,points_earned:r.points_earned||0,record_id:s.data.record_id}),o(3)}else f(s.data.message||t("activities.form.submitFailed"))}catch(s){f(s.message||t("activities.form.submitFailed"))}finally{j(!1)}},I=()=>{o(1),w(null),g(null),N(null),f("")},E=()=>{m>1&&(o(m-1),f(""))};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(T,{className:"w-8 h-8 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("activities.title")}),e.jsx("p",{className:"text-gray-600",children:t("activities.description")})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:A.map((l,s)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${m>=l.id?"bg-green-600 border-green-600 text-white":"border-gray-300 text-gray-500"}`,children:m>l.id?e.jsx(se,{className:"w-6 h-6"}):e.jsx("span",{className:"text-sm font-medium",children:l.id})}),e.jsxs("div",{className:"ml-3 hidden sm:block",children:[e.jsx("div",{className:`text-sm font-medium ${m>=l.id?"text-green-600":"text-gray-500"}`,children:l.title}),e.jsx("div",{className:"text-xs text-gray-500",children:l.description})]}),s<A.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-4 ${m>l.id?"bg-green-600":"bg-gray-300"}`})]},l.id))})}),$&&e.jsx(re,{variant:"destructive",className:"mb-6",children:e.jsx(ie,{children:$})}),e.jsxs("div",{className:"space-y-6",children:[m===1&&e.jsx(ye,{onActivitySelect:F,selectedActivity:p}),m===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(H,{variant:"outline",onClick:E,className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),t("common.back")]}),e.jsx("div",{className:"text-sm text-gray-600",children:t("activities.form.step2Of3")})]}),e.jsx(_e,{activity:p,onCalculate:D,onSubmit:L,calculationResult:a,isCalculating:z,isSubmitting:S})]}),m===3&&C&&e.jsxs(M,{className:"bg-green-50 border-green-200",children:[e.jsxs(P,{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4 mx-auto",children:e.jsx(se,{className:"w-8 h-8 text-green-600"})}),e.jsx(U,{className:"text-green-800",children:t("activities.form.submitSuccess")}),e.jsx(q,{children:t("activities.form.submitSuccessDesc")})]}),e.jsxs(R,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(()=>{const l=C.carbon_saved,s=typeof l=="number"?l:Number(l);return Number.isFinite(s)?s.toFixed(2):"0.00"})()}),e.jsxs("div",{className:"text-sm text-gray-600",children:[t("activities.carbonSaved")," (kg CO₂)"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.points_earned||0}),e.jsx("div",{className:"text-sm text-gray-600",children:t("activities.pointsEarned")})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t("activities.status.pending")}),e.jsx("div",{className:"text-sm text-gray-600",children:t("activities.currentStatus")})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:t("activities.form.reviewNotice")}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(H,{onClick:I,children:t("activities.form.recordAnother")}),e.jsx(H,{variant:"outline",onClick:()=>window.location.href="/dashboard",children:t("activities.form.goToDashboard")})]})]})]})]})]})]})}function Re(){return e.jsx(we,{})}export{Re as default};

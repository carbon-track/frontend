import{u as m,j as e,B as n,X as x,l as o}from"./index-BKjOfV5l.js";import{C as h,a as j,b as p,d as f,c as g}from"./Card-BjV_5Hz9.js";import{I as u}from"./image-CLrOna7A.js";import{C as N}from"./circle-x-BZIamY_9.js";import{C as b}from"./circle-check-big-iU2hGy9Z.js";import{C as v}from"./clock-CO_6aMIU.js";import{f as y}from"./Pagination-BlE9lgWV.js";function A({activity:s,isOpen:d,onClose:r}){const{t,formatNumber:i}=m();if(!d||!s)return null;const c=a=>{switch(a){case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(v,{className:"h-3 w-3 mr-1"})," ",t("activities.status.pending")]});case"approved":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(b,{className:"h-3 w-3 mr-1"})," ",t("activities.status.approved")]});case"rejected":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(N,{className:"h-3 w-3 mr-1"})," ",t("activities.status.rejected")]});default:return null}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs(h,{className:"border-0 shadow-none",children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-xl",children:t("activities.detail.title")}),e.jsx(f,{children:t("activities.detail.subtitle")})]}),e.jsx(n,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",children:e.jsx(x,{className:"h-4 w-4"})})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("activities.table.activity")}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.activity_name}),e.jsx("p",{className:"text-sm text-gray-600",children:t(`activities.categories.${s.activity_category}`,s.activity_category)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("activities.table.status")}),c(s.status)]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("activities.table.date")}),e.jsx("p",{className:"text-gray-900",children:y(new Date(s.activity_date),"yyyy-MM-dd")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("activities.table.data")}),e.jsxs("p",{className:"text-gray-900",children:[i(s.data_value)," ",t(`units.${s.activity_unit}`,s.activity_unit)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("activities.table.carbonSaved")}),e.jsxs("p",{className:"text-green-600 font-semibold",children:[i(s.carbon_saved)," kg CO2e"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:t("activities.table.points")}),e.jsxs("p",{className:"text-green-600 font-semibold",children:["+",i(s.points_earned)," ",t("common.points")]})]})]}),s.notes&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-md font-semibold text-gray-700 mb-2 flex items-center",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),t("activities.detail.notes")]}),e.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-md",children:s.notes})]}),s.status==="rejected"&&s.admin_notes&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-md font-semibold text-red-700 mb-2 flex items-center",children:[e.jsx(AlertCircle,{className:"h-4 w-4 mr-2"}),t("activities.detail.rejectionReason")]}),e.jsx("p",{className:"text-red-700 bg-red-50 p-3 rounded-md",children:s.admin_notes})]}),s.proof_images&&s.proof_images.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-md font-semibold text-gray-700 mb-2 flex items-center",children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),t("activities.detail.proofImages")]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.proof_images.map((a,l)=>e.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:a,alt:`${s.activity_name} proof ${l+1}`,className:"w-full h-32 object-cover rounded-lg shadow-sm"})},l))})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(n,{onClick:r,children:t("common.close")})})]})]})})})}export{A};
